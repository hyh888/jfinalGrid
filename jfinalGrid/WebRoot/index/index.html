<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="/jfinalGrid/js/jquery-1.4.4.min.js" type="text/javascript" ></script>
<script src="/jfinalGrid/js/index.js" type="text/javascript" ></script>
<script src="/jfinalGrid/js/avalon.modern.js" type="text/javascript" ></script>
</head>
<body>
<input id="one" type="button" value="点击可查看json" />
<input id="makejava" type="button" value="makeJavaWithBeetl" />
<div id="myDiv"></div>

<!-- HEADER -->
<div class="head">
    <h1 class="ui header">
       <div class="sub header">带你快速走进Jfinal和Avalon 的世界</div>
    </h1>
</div>
<!-- Blog正文 -->
<div class="ui attached bottom segment" ms-controller="blog" id="blogs">
    <div class="ui stacked segment blog">
        <div class="blog-body">
       <h3>ms-repeat实现json输出</h3> 
        <table border="1" width="800px" style="background:blueviolet"> 
        <tr>
        <th>index</th>
        <th width=20 >id</th>
        <th width=20 >id</th>
        <th width=50 >content</th>
        <th>content2</th>        
        <th>delete</th>       
        </tr>
            <tr  ms-repeat-el="blog"> 
                <td> 
                   {{$index}}
                </td> 
                <td> 
                    {{el.id}} 
                </td> 
                 <td> 
                    <input ms-duplex-number="el.id" /> 
                </td> 
                  <td>
                    <input ms-duplex="el.content" /> 
                </td>
                <td>
                {{el.id*el.id}}
                </td>
                <td> 
                   <button ms-click="$remove">{{el.id}} 点我删除</button> 
                </td> 
            </tr> 
        </table> 
        <div class="ui divider"></div>

    </div>
</div>
<script>
	var model = avalon.define("blog", function(vm){
	    vm.blog = {
	    //		id2=this.id*this.id;
	    };
	  //  vm.blog["id2"]=vm.blog["id"]*vm.blog["id"];
	});
	
	$(function(){
	    $.getJSON('/jfinalGrid/blog',function(data){
	        model.blog = data["blogPage"]["list"];
	        console.log(model.blog);
	    });
	});
</script>

</body>
</html>